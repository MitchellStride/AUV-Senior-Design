Version 4
SHEET 1 2640 1320
WIRE -416 0 -464 0
WIRE -368 0 -416 0
WIRE -256 0 -304 0
WIRE -224 0 -256 0
WIRE 928 48 832 48
WIRE 992 48 928 48
WIRE 1104 48 992 48
WIRE 1184 48 1104 48
WIRE 1552 48 1184 48
WIRE -368 96 -368 0
WIRE -368 96 -400 96
WIRE -336 96 -368 96
WIRE -224 96 -224 0
WIRE -224 96 -256 96
WIRE -208 96 -224 96
WIRE -64 96 -128 96
WIRE 128 96 -64 96
WIRE 304 96 128 96
WIRE 128 144 128 96
WIRE 304 144 304 96
WIRE 832 144 832 48
WIRE 928 144 928 48
WIRE 1136 144 1056 144
WIRE 1184 144 1184 48
WIRE 1184 144 1136 144
WIRE 1232 144 1184 144
WIRE 1312 144 1232 144
WIRE 1552 144 1552 48
WIRE 32 160 16 160
WIRE 80 160 32 160
WIRE 400 160 352 160
WIRE 416 160 400 160
WIRE 1056 160 1056 144
WIRE 1136 160 1136 144
WIRE 1232 160 1232 144
WIRE 1312 160 1312 144
WIRE -256 176 -304 176
WIRE -192 176 -192 144
WIRE -192 176 -256 176
WIRE -144 176 -144 144
WIRE -400 192 -400 96
WIRE -64 192 -64 96
WIRE 80 208 48 208
WIRE 384 208 352 208
WIRE 992 208 992 48
WIRE 48 224 48 208
WIRE 384 224 384 208
WIRE 464 224 432 224
WIRE 576 224 528 224
WIRE 720 224 688 224
WIRE 832 224 832 208
WIRE 832 224 784 224
WIRE 128 256 128 224
WIRE 432 256 432 224
WIRE 432 256 128 256
WIRE 1056 256 1056 240
WIRE 1136 256 1136 240
WIRE 1136 256 1056 256
WIRE 1184 256 1136 256
WIRE 1232 256 1232 240
WIRE 1232 256 1184 256
WIRE 1312 256 1312 240
WIRE 1312 256 1232 256
WIRE 304 272 304 224
WIRE 432 272 304 272
WIRE 1824 288 1728 288
WIRE 1888 288 1824 288
WIRE 128 304 128 256
WIRE 304 304 304 272
WIRE 432 304 432 272
WIRE 576 304 432 304
WIRE 928 304 928 208
WIRE 928 304 688 304
WIRE 1184 304 1184 256
WIRE 1728 304 1728 288
WIRE 32 320 16 320
WIRE 80 320 32 320
WIRE 400 320 352 320
WIRE 416 320 400 320
WIRE 832 320 832 224
WIRE 928 320 928 304
WIRE 1280 320 1232 320
WIRE 1328 320 1280 320
WIRE 1552 320 1552 224
WIRE 1440 336 1408 336
WIRE 1504 336 1440 336
WIRE 80 368 48 368
WIRE 384 368 352 368
WIRE 1264 368 1232 368
WIRE 48 384 48 368
WIRE 384 384 384 368
WIRE 1504 384 1472 384
WIRE -400 416 -400 272
WIRE -304 416 -400 416
WIRE -64 416 -64 256
WIRE -64 416 -304 416
WIRE 128 416 128 384
WIRE 128 416 -64 416
WIRE 304 416 304 384
WIRE 304 416 128 416
WIRE 832 416 832 384
WIRE 928 416 928 384
WIRE 928 416 832 416
WIRE 992 416 992 272
WIRE 992 416 928 416
WIRE 1152 416 992 416
WIRE 1184 416 1184 384
WIRE 1184 416 1152 416
WIRE 1264 416 1264 368
WIRE 1264 416 1184 416
WIRE 1472 416 1472 384
WIRE 1472 416 1264 416
WIRE 1552 416 1552 400
WIRE 1552 416 1472 416
WIRE 1728 416 1728 384
WIRE -304 448 -304 416
WIRE 1152 448 1152 416
WIRE -640 480 -672 480
WIRE -640 512 -640 480
WIRE -208 528 -464 528
WIRE -80 528 -128 528
WIRE -16 528 -80 528
WIRE 144 528 -16 528
WIRE 160 528 144 528
WIRE -80 576 -80 528
WIRE -16 576 -16 528
WIRE 32 576 -16 576
WIRE 144 576 96 576
WIRE 160 576 144 576
WIRE -464 592 -464 528
WIRE 1424 592 1392 592
WIRE 1456 592 1424 592
WIRE -640 608 -640 592
WIRE -192 608 -192 576
WIRE -192 608 -256 608
WIRE -144 608 -144 576
WIRE 1264 624 1264 592
WIRE 1456 624 1456 592
WIRE 1920 656 1904 656
WIRE 2096 656 2000 656
WIRE -80 672 -80 656
WIRE -464 704 -464 672
WIRE 1664 704 1664 688
WIRE 1264 720 1264 704
WIRE 1312 720 1264 720
WIRE 1456 720 1456 704
WIRE 1632 720 1456 720
WIRE 2016 720 2016 704
WIRE 1264 736 1264 720
WIRE 1456 736 1456 720
WIRE 1792 736 1728 736
WIRE 1808 736 1792 736
WIRE 1904 736 1904 656
WIRE 1904 736 1888 736
WIRE 1984 736 1904 736
WIRE 1632 752 1600 752
WIRE 2096 752 2096 656
WIRE 2096 752 2080 752
WIRE 2176 752 2096 752
WIRE 2192 752 2176 752
WIRE 1936 768 1920 768
WIRE 1984 768 1936 768
WIRE 2192 768 2192 752
WIRE 1664 784 1664 768
WIRE 2016 816 2016 784
WIRE 1264 832 1264 816
WIRE 1456 832 1456 816
WIRE 1600 832 1600 752
WIRE 1792 832 1792 736
WIRE 1792 832 1600 832
WIRE 1584 928 1536 928
WIRE 1728 928 1664 928
WIRE -16 960 -16 928
WIRE -144 992 -208 992
WIRE -64 992 -144 992
WIRE 1424 992 1424 976
WIRE 1440 992 1424 992
WIRE 1536 992 1536 928
WIRE 1536 992 1520 992
WIRE 192 1024 144 1024
WIRE 320 1024 272 1024
WIRE 352 1024 320 1024
WIRE 1632 1024 1632 1008
WIRE 1536 1040 1536 992
WIRE 1600 1040 1536 1040
WIRE -144 1056 -208 1056
WIRE -64 1056 -144 1056
WIRE 320 1056 320 1024
WIRE 1728 1056 1728 928
WIRE 1728 1056 1696 1056
WIRE 1808 1056 1728 1056
WIRE 1824 1056 1808 1056
WIRE 1936 1056 1824 1056
WIRE 1328 1072 1312 1072
WIRE 1600 1072 1328 1072
WIRE 1808 1072 1808 1056
WIRE 1536 1088 1536 1040
WIRE 2112 1104 2048 1104
WIRE 2176 1104 2112 1104
WIRE 1632 1120 1632 1088
WIRE 16 1136 16 1088
WIRE 48 1136 48 1072
WIRE 48 1136 16 1136
WIRE -16 1168 -16 1104
WIRE 48 1168 48 1136
WIRE 320 1168 320 1120
WIRE 1536 1184 1536 1168
FLAG 48 224 0
FLAG 48 384 0
FLAG 384 224 0
FLAG 384 384 0
FLAG 32 160 SW1
FLAG 400 320 SW1
FLAG 32 320 SW2
FLAG 400 160 SW2
FLAG 1104 48 Vout
FLAG -304 448 0
FLAG -464 704 0
FLAG 144 528 SW1
FLAG 144 576 SW2
FLAG 1152 448 0
FLAG 1280 320 FaultOV
FLAG 1440 336 Vcharge
FLAG 1824 288 Vcharge
FLAG 1728 416 0
FLAG -144 176 0
FLAG -256 176 !FaultOL
FLAG -416 0 ISEN+
FLAG -256 0 ISEN-
FLAG -640 608 0
FLAG -144 992 ISEN+
FLAG -144 1056 ISEN-
FLAG -16 1168 0
FLAG 352 1024 ISEN
FLAG 2112 1104 !FaultOL
FLAG -672 480 5V
FLAG 48 1168 0
FLAG 320 1168 0
FLAG -144 608 0
FLAG -256 608 !FaultOL
FLAG -80 672 0
FLAG 2016 816 0
FLAG 2016 704 5V
FLAG 1936 768 Vref1
FLAG 1264 592 5V
FLAG 1312 720 Vref1
FLAG 1264 832 0
FLAG 2192 848 0
FLAG 1456 832 0
FLAG 1664 688 5V
FLAG 1664 784 0
FLAG 1424 592 Vout
FLAG 2176 752 FaultOV
FLAG -16 928 5V
FLAG 1632 1120 0
FLAG 1632 1008 5V
FLAG 1808 1152 0
FLAG 1328 1072 ISEN
FLAG 1536 1184 0
FLAG 1424 976 5V
FLAG 1824 1056 FaultOL
SYMBOL sw 128 240 M180
SYMATTR InstName S1
SYMATTR Value MSW
SYMBOL sw 128 400 M180
SYMATTR InstName S2
SYMATTR Value MSW
SYMBOL sw 304 400 R180
SYMATTR InstName S3
SYMATTR Value MSW
SYMBOL sw 304 240 R180
SYMATTR InstName S4
SYMATTR Value MSW
SYMBOL cap -80 192 R0
SYMATTR InstName C3
SYMATTR Value 2500µ
SYMATTR SpiceLine Rser=0.001 Lser=1n
SYMBOL voltage -400 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.01
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL ind2 560 208 R0
WINDOW 3 11 107 Left 2
SYMATTR Value 5.8µ
SYMATTR InstName L1
SYMATTR Type ind
SYMATTR SpiceLine Rser=12m
SYMBOL ind2 704 208 M0
WINDOW 3 -1 107 Left 2
SYMATTR Value 5.8µ
SYMATTR InstName L2
SYMATTR Type ind
SYMATTR SpiceLine Rser=12m
SYMBOL diode 848 208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value DI
SYMBOL diode 848 384 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value DI
SYMBOL diode 944 208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value DI
SYMBOL diode 944 384 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value DI
SYMBOL cap 976 208 R0
SYMATTR InstName C4
SYMATTR Value 1500µ
SYMATTR SpiceLine Rser=1m Lser=0.1n
SYMBOL Misc\\signal -464 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -385 100 Left 2
SYMATTR Value PULSE(0 12 0 1n 1n 5.2u 10.4u)
SYMATTR InstName V2
SYMBOL Digital\\inv 32 512 R0
SYMATTR InstName A1
SYMBOL cap 528 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 380n
SYMATTR SpiceLine Rser=10m
SYMBOL cap 784 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 380n
SYMATTR SpiceLine Rser=10m
SYMBOL res 1120 144 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL res 1536 128 R0
SYMATTR InstName R2
SYMATTR Value 2.25
SYMBOL sw 1184 400 R180
WINDOW 0 15 11 Left 2
WINDOW 3 10 101 Left 2
SYMATTR InstName S5
SYMATTR Value MSW
SYMBOL res 1216 144 R0
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL sw 1552 416 M180
WINDOW 0 15 11 Left 2
WINDOW 3 10 101 Left 2
SYMATTR InstName S6
SYMATTR Value MSW
SYMBOL Misc\\signal 1728 288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 50ms 1n 1n 1 1)
SYMBOL res 1040 144 R0
SYMATTR InstName R5
SYMATTR Value 10
SYMBOL res 1296 144 R0
SYMATTR InstName R6
SYMATTR Value 10
SYMBOL res -240 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 0.005
SYMBOL sw -112 96 M270
WINDOW 0 15 20 VLeft 2
WINDOW 3 49 84 VLeft 2
SYMATTR InstName S7
SYMATTR Value MSW
SYMBOL AIN240 304 1056 R0
SYMATTR InstName X1
SYMATTR Prefix X
SYMATTR Value INA240A1
SYMBOL voltage -640 496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL Digital\\srflop 1984 1008 R0
SYMATTR InstName A2
SYMBOL cap 304 1056 R0
SYMATTR InstName C5
SYMATTR Value 1µ
SYMBOL res 288 1008 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL sw -112 528 M270
SYMATTR InstName S8
SYMATTR Value MSW
SYMBOL res -96 560 R0
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL LMC6032 2016 752 R0
WINDOW 0 35 -28 Bottom 2
WINDOW 3 75 27 Top 2
SYMATTR InstName U1
SYMBOL res 1904 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 0.4k
SYMBOL res 2016 640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res 1248 608 R0
SYMATTR InstName R12
SYMATTR Value 11.5k
SYMBOL res 1248 720 R0
SYMATTR InstName R13
SYMATTR Value 9.09k
SYMBOL res 2176 752 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 1440 608 R0
SYMATTR InstName R15
SYMATTR Value 18.0k
SYMBOL res 1440 720 R0
SYMATTR InstName R16
SYMATTR Value 2.0k
SYMBOL LMC6032 1664 736 R0
WINDOW 0 35 -28 Bottom 2
WINDOW 3 74 27 Top 2
SYMATTR InstName U2
SYMBOL LMC6032 1632 1056 R0
WINDOW 0 35 -28 Bottom 2
WINDOW 3 75 27 Top 2
SYMATTR InstName U3
SYMBOL res 1552 1184 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 1680 912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 80k
SYMBOL res 1792 1056 R0
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL res 1424 1008 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R18
SYMATTR Value 80k
TEXT 568 192 Left 2 !K L1 L2 0
TEXT 336 616 Left 2 !.tran 0 75m 0 20n
TEXT 296 488 Left 2 !.model MSW SW(Ron=0.001 Roff=1Meg Vt=.5)
TEXT 352 552 Left 2 !.model DI D(Ron=0.01 Roff=10Meg Vfwd=0.3 Vrev=1000)
TEXT -152 1240 Left 2 !.inc D:\\AUV Capstone\\AUV-Senior-Design\\Mark\\WPT Sims\\lib\\ina240a1.lib
TEXT -384 720 Left 2 ;Turn off switching signal if open load fault. \nThis would be done with the TX micro in the real system
TEXT -152 1272 Left 2 !.inc D:\\AUV Capstone\\AUV-Senior-Design\\Mark\\WPT Sims\\lib\\LMC6032.MOD
