* D:\AUV Capstone\AUV-Senior-Design\Mark\WPT Sims\TX RX Complex.asc
S1 N002 N001 SW1 0 MSW
S2 0 N002 SW2 0 MSW
S3 0 N007 SW1 0 MSW
S4 N007 N001 SW2 0 MSW
C3 N001 0 1320µ Rser=4m Lser=1n
V1 ISEN+ 0 24 Rser=0.01
L1 N003 N007 5.8µ Rser=12m
L2 N004 N008 5.8µ Rser=12m
D1 N005 ISENO+ DI
D2 0 N005 DI
D3 N008 ISENO+ DI
D4 0 N008 DI
C4 ISENO+ 0 1000µ Rser=1m Lser=0.1n
V2 N010 0 PULSE(0 12 0 1n 1n 4.3u 9.6u)
A1 SW1 0 0 0 0 SW2 0 0 BUF
C1 N003 N002 400n Rser=38m
C2 N005 N004 400n Rser=38m
R1 Vout N006 10
R2 Vout N009 2.25
S5 0 N006 FaultOV 0 MSW
R3 Vout N006 10
S6 0 N009 Vcharge 0 MSW
V3 Vcharge 0 PULSE(0 5 25ms 1n 1n 1 1)
R5 Vout N006 10
R6 Vout N006 10
R7 ISEN- ISEN+ 0.005
S7 N001 ISEN- !FaultOL 0 MSW
XX1 N014 ISEN+ ISEN- 0 0 5V 0 INA240A1
V4 5V 0 5
A2 FaultOL 0 0 0 0 !FaultOL 0 0 SRFLOP
C5 ISEN 0 1µ
R9 ISEN N014 2k
S8 SW1 N010 !FaultOL 0 MSW
R10 SW1 0 10k
XU1 N011 Vref1 5V 0 FaultOV LMC6032
R8 N011 N012 0.4k
R11 FaultOV N011 10k
R12 5V Vref1 11.5k
R13 Vref1 0 9.09k
R14 FaultOV 0 10k
R15 Vout VSEN 18.0k
R16 VSEN 0 2.0k
XU2 VSEN N012 5V 0 N012 LMC6032
XU3 N013 Vref2 5V 0 FaultOL LMC6032
R4 ISEN N013 1k
R17 FaultOL N013 10k
R20 FaultOL 0 10k
XX2 N015 ISENO+ Vout 0 0 5V 0 INA240A1
C6 ISENO 0 0.1µ
R19 ISENO N015 1k
R21 Vout ISENO+ 0.005
R18 5V Vref2 10k
R22 Vref2 0 12k
.model D D
.lib C:\Users\markb\Documents\LTspiceXVII\lib\cmp\standard.dio
K L1 L2 0.7
.tran 0 40m 0 20n
.model MSW SW(Ron=0.001 Roff=1Meg Vt=.5)
.model DI D(Ron=0.01 Roff=10Meg Vfwd=0.5 Vrev=1000)
.inc D:\AUV Capstone\AUV-Senior-Design\Mark\WPT Sims\lib\ina240a1.lib
* Turn off switching signal if open load fault. \nThis would be done with the TX micro in the real system
.inc D:\AUV Capstone\AUV-Senior-Design\Mark\WPT Sims\lib\LMC6032.MOD
* RX Board
* WPT Coils
* TX Board
* Charger
* Fault Circuits
* FaultOV (Over Voltage) on RX board\nFaultOL (Open Load) on TX Board.
* Pulse Generator, MCU
* Input Current Sense
* Output Current Sense
* System Signals and 5V Source
* Spice Directives
.lib D:\AUV Capstone\AUV-Senior-Design\Mark\WPT Sims\lib\LMC6032.MOD
.backanno
.end
